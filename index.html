<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Recruitment Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="shortcut icon" href="images/gkg.ico" type="image/x-icon">
  <style>
    .loading { animation: spin 1s linear infinite; }
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .fade-in { animation: fadeIn 0.5s ease-in-out; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .metric-card { transition: all 0.3s ease; }
    .metric-card:hover { transform: translateY(-2px); }
  </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-white border-b shadow-sm p-4 flex items-center justify-between">
    <div class="flex items-center gap-4">
      <img src="images/GGPC logo.png" alt="Company Logo" class="h-12 w-auto">
      <div>
        <h1 class="text-2xl font-bold text-gray-800">Recruitment Dashboard</h1>
        <p class="text-sm text-gray-500">Real-time insights from Kintone</p>
      </div>
    </div>
    
    <!-- Controls -->
    <div class="flex items-center gap-4">
      <select id="timeFilter" class="border border-gray-300 rounded-lg px-3 py-2 text-sm">
        <option value="all">All Time</option>
        <option value="7">Last 7 Days</option>
        <option value="30">Last 30 Days</option>
        <option value="90">Last 3 Months</option>
        <option value="180">Last 6 Months</option>
      </select>
      
      <button id="exportBtn" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition">
        üìä Export Report
      </button>
      
      <button id="refreshBtn" class="bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 transition">
        <span id="refreshIcon">üîÑ</span> Refresh
      </button>
      
      <div id="lastUpdate" class="text-xs text-gray-500"></div>
    </div>
  </header>

  <!-- Alert Banner -->
  <div id="alertBanner" class="hidden bg-yellow-50 border-l-4 border-yellow-400 p-4">
    <div class="flex">
      <div class="flex-shrink-0">‚ö†Ô∏è</div>
      <div class="ml-3">
        <p class="text-sm text-yellow-700" id="alertMessage"></p>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <main class="flex-grow container mx-auto p-6">
    <!-- KPI Cards -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
      <div class="metric-card bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition">
        <h2 class="text-gray-500 text-sm uppercase tracking-wide">Total Applicants</h2>
        <p id="totalApplicants" class="text-4xl font-extrabold text-blue-600 mt-2">0</p>
        <p id="applicantsTrend" class="text-xs text-gray-500 mt-1"></p>
      </div>
      
      <div class="metric-card bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition">
        <h2 class="text-gray-500 text-sm uppercase tracking-wide">Total Positions</h2>
        <p id="totalPositions" class="text-4xl font-extrabold text-green-600 mt-2">0</p>
        <p id="avgPerPosition" class="text-xs text-gray-500 mt-1"></p>
      </div>
      
      <div class="metric-card bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition">
        <h2 class="text-gray-500 text-sm uppercase tracking-wide">This Month</h2>
        <p id="thisMonthCount" class="text-4xl font-extrabold text-purple-600 mt-2">0</p>
        <p class="text-xs text-gray-500 mt-1">New Applications</p>
      </div>
      
      <div class="metric-card bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition">
        <h2 class="text-gray-500 text-sm uppercase tracking-wide">Education Levels</h2>
        <p id="educationCount" class="text-4xl font-extrabold text-orange-600 mt-2">0</p>
        <p class="text-xs text-gray-500 mt-1">Unique Levels</p>
      </div>
    </div>

    <!-- Charts Row 1 -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
      <div class="bg-white rounded-2xl shadow-md p-6 hover:shadow-lg transition fade-in">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-semibold text-gray-700">Applications by Position</h3>
          <button class="text-gray-400 hover:text-gray-600 text-sm" onclick="downloadChart('positionChart')">üì• Download</button>
        </div>
        <div class="h-80 relative">
          <canvas id="positionChart"></canvas>
        </div>
      </div>
      
      <div class="bg-white rounded-2xl shadow-md p-6 hover:shadow-lg transition fade-in">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-semibold text-gray-700">Application Status Distribution</h3>
          <button class="text-gray-400 hover:text-gray-600 text-sm" onclick="downloadChart('statusChart')">üì• Download</button>
        </div>
        <div class="h-80 relative">
          <canvas id="statusChart"></canvas>
        </div>
      </div>
    </div>

    <!-- Charts Row 2 -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
      <div class="bg-white rounded-2xl shadow-md p-6 hover:shadow-lg transition fade-in">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-semibold text-gray-700">Education Background</h3>
          <button class="text-gray-400 hover:text-gray-600 text-sm" onclick="downloadChart('educationChart')">üì• Download</button>
        </div>
        <div class="h-80 relative">
          <canvas id="educationChart"></canvas>
        </div>
      </div>
      
      <div class="bg-white rounded-2xl shadow-md p-6 hover:shadow-lg transition fade-in">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-semibold text-gray-700">Applications by Day of Week</h3>
          <button class="text-gray-400 hover:text-gray-600 text-sm" onclick="downloadChart('dayChart')">üì• Download</button>
        </div>
        <div class="h-80 relative">
          <canvas id="dayChart"></canvas>
        </div>
      </div>
    </div>

    <!-- Time Trend Chart -->
    <div class="bg-white rounded-2xl shadow-md p-6 hover:shadow-lg transition fade-in mb-8">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold text-gray-700">Application Trends Over Time</h3>
        <div class="flex gap-2">
          <button id="weeklyView" class="px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded" onclick="changeTrendView('weekly')">Weekly</button>
          <button id="monthlyView" class="px-3 py-1 text-sm text-gray-600 rounded hover:bg-gray-100" onclick="changeTrendView('monthly')">Monthly</button>
          <button class="text-gray-400 hover:text-gray-600 text-sm" onclick="downloadChart('trendChart')">üì• Download</button>
        </div>
      </div>
      <div class="h-96 relative">
        <canvas id="trendChart"></canvas>
      </div>
    </div>

    <!-- Data Table -->
    <div class="bg-white rounded-2xl shadow-md p-6 hover:shadow-lg transition fade-in">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold text-gray-700">Recent Applications</h3>
        <div class="flex gap-2">
          <input type="text" id="searchInput" placeholder="Search applicants..." 
                 class="border border-gray-300 rounded px-3 py-1 text-sm w-48">
          <select id="statusFilter" class="border border-gray-300 rounded px-3 py-1 text-sm">
            <option value="">All Status</option>
          </select>
          <select id="positionFilter" class="border border-gray-300 rounded px-3 py-1 text-sm">
            <option value="">All Positions</option>
          </select>
        </div>
      </div>
      <div class="overflow-x-auto">
        <table class="min-w-full table-auto">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Position</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Education</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Applied</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Contact</th>
            </tr>
          </thead>
          <tbody id="applicantsTable" class="bg-white divide-y divide-gray-200">
          </tbody>
        </table>
      </div>
      <div class="mt-4 flex justify-between items-center text-sm text-gray-500">
        <span id="tableInfo">Showing 0 of 0 applicants</span>
        <div class="flex gap-2">
          <button id="prevPage" class="px-3 py-1 border rounded hover:bg-gray-50 disabled:opacity-50" disabled>Previous</button>
          <span id="pageInfo">Page 1 of 1</span>
          <button id="nextPage" class="px-3 py-1 border rounded hover:bg-gray-50 disabled:opacity-50" disabled>Next</button>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-white border-t text-gray-500 text-center p-4 text-sm">
    ¬© 2025 Recruitment System Dashboard ‚Äì Powered by Kintone | 
    <span id="dataStatus">Last updated: Never</span>
  </footer>

  <!-- JavaScript -->
  <script src="main.js">
    
  </script>
</body>
</html>